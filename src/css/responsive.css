/**
 * Sasha Khan — Responsive Styles
 * Mobile-first responsive breakpoints
 */

/* ═══════════════════════════════════════════════════════════
   BREAKPOINT REFERENCE
   ═══════════════════════════════════════════════════════════

   Mobile: 0 - 767px
   Tablet: 768px - 1023px
   Desktop: 1024px - 1439px
   Large Desktop: 1440px+

   ═══════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════════════
   MOBILE STYLES (Default)
   ═══════════════════════════════════════════════════════════ */

/* On mobile, stack triangles vertically */
@media (max-width: 767px) {
  .hero {
    height: auto;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  .hero-triangle {
    position: relative;
    width: 100%;
    height: 25vh;
    min-height: 150px;
    clip-path: none !important;
  }

  .hero-triangle--top {
    order: 1;
  }

  .hero-triangle--left {
    order: 2;
  }

  .hero-triangle--right {
    order: 3;
  }

  .hero-triangle--bottom {
    order: 4;
  }

  /* Adjust content positioning for mobile */
  .hero-triangle__content {
    top: 50% !important;
    left: 50% !important;
    right: auto !important;
    bottom: auto !important;
    transform: translate(-50%, -50%) !important;
  }

  .hero-triangle__title {
    font-size: clamp(1.25rem, 5vw, 1.75rem);
    letter-spacing: var(--letter-spacing-ultra);
  }

  /* Logo positioning for mobile */
  .hero-logo {
    position: fixed;
    top: var(--space-md);
    left: 50%;
    transform: translateX(-50%);
    z-index: 200;
  }

  .hero-logo__image {
    width: 80px;
  }

  /* Hide decorative lines on mobile */
  .hero-decorative-lines,
  .hero-diagonal-svg {
    display: none;
  }

  /* Hide scroll indicator on mobile */
  .hero-scroll-indicator {
    display: none;
  }
}

/* ═══════════════════════════════════════════════════════════
   TABLET STYLES
   ═══════════════════════════════════════════════════════════ */

@media (min-width: 768px) and (max-width: 1023px) {
  .hero-triangle__title {
    font-size: clamp(1.5rem, 3vw, 2rem);
  }

  .hero-logo__image {
    width: clamp(100px, 12vw, 150px);
  }

  /* Adjust title positions for tablet */
  .hero-triangle--top .hero-triangle__content {
    top: 18%;
  }

  .hero-triangle--bottom .hero-triangle__content {
    bottom: 18%;
  }

  .hero-triangle--left .hero-triangle__content {
    left: 12%;
  }

  .hero-triangle--right .hero-triangle__content {
    right: 12%;
  }
}

/* ═══════════════════════════════════════════════════════════
   DESKTOP STYLES
   ═══════════════════════════════════════════════════════════ */

@media (min-width: 1024px) {
  .hero-triangle__title {
    font-size: clamp(2rem, 2.5vw, 3rem);
  }

  /* Slightly larger logo on desktop */
  .hero-logo__image {
    width: clamp(150px, 12vw, 200px);
  }
}

/* ═══════════════════════════════════════════════════════════
   LARGE DESKTOP STYLES
   ═══════════════════════════════════════════════════════════ */

@media (min-width: 1440px) {
  .hero-triangle__title {
    font-size: 3rem;
    letter-spacing: 0.4em;
  }

  .hero-logo__image {
    width: 200px;
  }

  /* More generous spacing for large screens */
  .hero-triangle--top .hero-triangle__content {
    top: 12%;
  }

  .hero-triangle--bottom .hero-triangle__content {
    bottom: 12%;
  }

  .hero-triangle--left .hero-triangle__content {
    left: 18%;
  }

  .hero-triangle--right .hero-triangle__content {
    right: 18%;
  }
}

/* ═══════════════════════════════════════════════════════════
   ULTRA-WIDE SCREENS
   ═══════════════════════════════════════════════════════════ */

@media (min-width: 2000px) {
  .hero-triangle__title {
    font-size: 3.5rem;
  }

  .hero-logo__image {
    width: 250px;
  }
}

/* ═══════════════════════════════════════════════════════════
   HEIGHT-BASED ADJUSTMENTS
   ═══════════════════════════════════════════════════════════ */

/* Short viewports (laptop screens) */
@media (max-height: 700px) and (min-width: 768px) {
  .hero-triangle__title {
    font-size: clamp(1.25rem, 2vw, 1.75rem);
  }

  .hero-logo__image {
    width: clamp(80px, 10vw, 120px);
  }

  .hero-scroll-indicator {
    bottom: var(--space-md);
  }

  .hero-scroll-indicator__line {
    height: 25px;
  }
}

/* ═══════════════════════════════════════════════════════════
   TOUCH DEVICE HANDLING
   ═══════════════════════════════════════════════════════════ */

@media (hover: none) and (pointer: coarse) {
  /* On touch devices, don't dim other sections */
  .hero-triangle.is-dimmed .hero-triangle__overlay {
    opacity: 0;
  }

  .hero-triangle.is-dimmed .hero-triangle__title {
    opacity: 1;
  }

  /* Add tap indicator */
  .hero-triangle--video::after {
    content: '';
    position: absolute;
    bottom: var(--space-md);
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    border: 2px solid var(--color-ivory);
    border-radius: 50%;
    opacity: 0.5;
    z-index: 20;
  }
}

/* ═══════════════════════════════════════════════════════════
   LANDSCAPE MOBILE
   ═══════════════════════════════════════════════════════════ */

@media (max-height: 500px) and (orientation: landscape) {
  .hero {
    height: auto;
    min-height: 100vh;
  }

  .hero-triangle {
    position: relative;
    height: 50vh;
    min-height: 200px;
    clip-path: none !important;
  }

  .hero-logo {
    position: fixed;
    top: var(--space-sm);
    width: 60px;
  }
}

/* ═══════════════════════════════════════════════════════════
   TABLET LANDSCAPE
   ═══════════════════════════════════════════════════════════ */

@media (min-width: 991px) and (max-width: 1200px) {
  /* ═══════════════════════════════════════════════════════════
     TABLET LANDSCAPE - DOCUMENTED FIXES ONLY
     Based on: ISSUE_0006_Image breaking hero section on tablet
     ═══════════════════════════════════════════════════════════ */

  /* 0. Force GPU compositing on all triangles - ensures clip-path works consistently */
  .hero-triangle {
    transform: translateZ(0) !important;
    -webkit-transform: translateZ(0) !important;
  }

  /* 0b. Bottom image: adjust position and remove overflow-causing transform */
  .hero-triangle--bottom .hero-triangle__image {
    transform: translateY(30%) translateZ(0) !important;
    -webkit-transform: translateY(30%) translateZ(0) !important;
  }

  /* 1. Disable ALL transitions on triangle elements */
  .hero-triangle,
  .hero-triangle *,
  .hero-triangle__title,
  .hero-triangle__overlay,
  .hero-triangle__video,
  .hero-triangle__image {
    transition: none !important;
  }

  /* 2. Hide overlay completely */
  .hero-triangle__overlay {
    display: none !important;
  }

  /* 3. Force stable state on ALL triangles regardless of classes - ALL same z-index */
  .hero-triangle,
  .hero-triangle.is-dimmed,
  .hero-triangle.is-active {
    opacity: 1 !important;
    filter: none !important;
    z-index: 2 !important;
  }

  /* Force same z-index even during sequence - prevents overlap */
  body.tablet-sequence-active .hero-triangle,
  body.tablet-sequence-active .hero-triangle.is-active,
  body.tablet-sequence-active .hero-triangle.is-dimmed {
    z-index: 2 !important;
  }

  /* Reset titles */
  .hero-triangle__title,
  .hero-triangle.is-dimmed .hero-triangle__title,
  .hero-triangle.is-active .hero-triangle__title {
    opacity: 1 !important;
  }

  /* 4. Explicit overrides for :hover, :active, :focus on bottom triangle */
  .hero-triangle--bottom,
  .hero-triangle--bottom:hover,
  .hero-triangle--bottom:active,
  .hero-triangle--bottom:focus {
    transform: none !important;
    opacity: 1 !important;
    filter: none !important;
    z-index: 2 !important;
  }

  /* 5. Completely hide collections menu with zero dimensions */
  .collections-menu,
  .collections-menu *,
  .hero-triangle--bottom:hover .collections-menu,
  .hero-triangle--bottom.is-active .collections-menu {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    width: 0 !important;
    height: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    overflow: hidden !important;
  }

  /* ═══════════════════════════════════════════════════════════
     TABLET SEQUENCE ANIMATION
     When body has .tablet-sequence-active, allow dimming effects
     ═══════════════════════════════════════════════════════════ */

  /* Show overlay on dimmed triangles during sequence */
  body.tablet-sequence-active .hero-triangle.is-dimmed .hero-triangle__overlay {
    display: block !important;
    opacity: 0.7 !important;
    background: rgba(10, 10, 10, 0.7) !important;
  }

  /* Dim title on non-active triangles during sequence */
  body.tablet-sequence-active .hero-triangle.is-dimmed .hero-triangle__title {
    opacity: 0.3 !important;
  }

  /* Active triangle - NO z-index change, keep all triangles on same plane */
  /* z-index removed to prevent overlap - clip-path handles visibility */

  /* Keep active triangle fully visible */
  body.tablet-sequence-active .hero-triangle.is-active .hero-triangle__overlay {
    display: none !important;
    opacity: 0 !important;
  }

  body.tablet-sequence-active .hero-triangle.is-active .hero-triangle__title {
    opacity: 1 !important;
  }

  /* ═══════════════════════════════════════════════════════════
     VIDEO POSITIONING - Alignment adjustments for tablet
     ═══════════════════════════════════════════════════════════ */

  /* FREEDOM (top) triangle video - shift up 2% */
  .hero-triangle--top .hero-triangle__video,
  .hero-triangle--top .hero-triangle__image {
    transform: translateY(-2%) !important;
  }

  /* ELITE (left) triangle video - enlarge to fill corner gaps */
  .hero-triangle--left .hero-triangle__video,
  .hero-triangle--left .hero-triangle__image {
    max-width: none !important;
    width: 130% !important;
    height: 130% !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -45%) translateX(-39%) !important;
  }

  /* ═══════════════════════════════════════════════════════════
     TABLET MENU BUTTON & NAV
     ═══════════════════════════════════════════════════════════ */

  /* Force both buttons to match exactly in tablet landscape */
  .home-button,
  .menu-button {
    box-sizing: border-box;
    height: 32px;
    padding: 8px 16px;
    font-family: var(--font-body);
    font-size: 12px;
    font-weight: var(--font-weight-medium);
    letter-spacing: var(--letter-spacing-wider);
    text-transform: uppercase;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  /* Menu button - positioned left of HOME */
  .menu-button {
    position: fixed;
    top: var(--space-lg);
    right: calc(var(--space-lg) + 85px);
    z-index: 9999;
    /* Reset button defaults */
    -webkit-appearance: none;
    appearance: none;
    outline: none;
    margin: 0;
    text-decoration: none;
    color: var(--color-havana);
    background: rgba(10, 10, 10, 0.7);
    border: 1px solid rgba(196, 167, 125, 0.3);
    border-radius: 0;
    cursor: pointer;
    transition: background 0.3s var(--ease-luxury),
                color 0.3s var(--ease-luxury),
                border-color 0.3s var(--ease-luxury);
  }

  .menu-button:hover,
  .menu-button.is-active {
    background: rgba(196, 167, 125, 0.9);
    color: var(--color-noir);
    border-color: var(--color-havana);
  }

  /* Tablet navigation menu - centered overlay */
  .tablet-nav {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9998;
    background: rgba(0, 0, 0, 0.85);
    /* Center content */
    justify-content: center;
    align-items: center;
  }

  .tablet-nav.is-open {
    display: flex;
  }

  .tablet-nav__list {
    list-style: none;
    margin: 0;
    padding: var(--space-lg);
    /* Horizontal layout */
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: flex-start;
    gap: var(--space-xl);
  }

  .tablet-nav__item {
    border-bottom: none;
    text-align: center;
    position: relative;
  }

  .tablet-nav__item:last-child {
    border-bottom: none;
  }

  .tablet-nav__label {
    display: block;
    font-family: var(--font-body);
    font-size: 16px;
    font-weight: var(--font-weight-medium);
    color: var(--color-havana);
    letter-spacing: var(--letter-spacing-wider);
    text-transform: uppercase;
    padding: var(--space-sm) var(--space-md);
    cursor: pointer;
    transition: color 0.3s var(--ease-luxury);
  }

  .tablet-nav__label--link {
    text-decoration: none;
  }

  .tablet-nav__label:hover {
    color: var(--color-ivory);
  }

  .tablet-nav__submenu {
    list-style: none;
    margin: 0;
    padding: var(--space-sm) 0 0 0;
    display: none;
    text-align: center;
    /* Position absolute to prevent layout shift */
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    min-width: 100%;
  }

  .tablet-nav__item--has-submenu.is-expanded .tablet-nav__submenu {
    display: block;
  }

  .tablet-nav__link {
    display: block;
    font-family: var(--font-body);
    font-size: 14px;
    font-weight: var(--font-weight-light);
    color: var(--color-platinum);
    letter-spacing: var(--letter-spacing-wide);
    text-decoration: none;
    padding: var(--space-xs) var(--space-sm);
    transition: color 0.3s var(--ease-luxury);
  }

  .tablet-nav__link:hover {
    color: var(--color-ivory);
  }

  /* ═══════════════════════════════════════════════════════════
     LUX/ODE CARDS - Shift left to prevent cutoff
     ═══════════════════════════════════════════════════════════ */

  .flip-cards-container {
    left: -80px !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   HIGH DPI / RETINA DISPLAYS
   ═══════════════════════════════════════════════════════════ */

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Sharper text shadows on retina */
  .hero-triangle__title {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
  }

  /* Thinner decorative lines */
  .hero-diagonal-svg line {
    stroke-width: 0.5;
  }
}
